{"version":3,"sources":["data-viz/RadialChart.jsx","App.js","index.js"],"names":["Chart","styled","OrdinalFrame","RadialChart","data","xAxis","yAxis","frameProps","title","size","window","innerHeight","innerWidth","margin","type","projection","oAccessor","rAccessor","rScaleType","scaleSqrt","oSort","a","b","aData","bData","pieceClass","d","myClass","toLowerCase","baseMarkProps","transitionDuration","default","renderKey","datapoint","spell","oLabel","orient","padding","label","fill","fontSize","GlobalStyle","createGlobalStyle","AppWrapper","div","ScrollamaWrapper","StepWrapper","App","useState","book","setBook","useEffect","scrollTo","top","behavior","onStepEnter","offset","map","key","spells","stickTo","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"47VAMA,IAAMA,EAAQC,YAAOC,IAAPD,CAAH,KAkDIE,EA7CK,SAAC,GAAmC,IAAjCC,EAAgC,EAAhCA,KAAMC,EAA0B,EAA1BA,MAAOC,EAAmB,EAAnBA,MAC5BC,GAD+C,EAAZC,MACtB,CAEjBJ,OAGAK,KAAM,CAACC,OAAOC,YAAc,IAAKD,OAAOE,WAAa,KACrDC,OAAQ,IAGRC,KAAM,MACNC,WAAY,SAGZC,UAAWX,EACXY,UAAWX,EACXY,WAAYC,sBACZC,MAAO,SAACC,EAAGC,EAAGC,EAAOC,GAAd,OAAwBA,EAAM,GAAGlB,GAASiB,EAAM,GAAGjB,IAG1DmB,WAAY,SAACC,GACX,IAAIC,EAAUD,EAAEZ,KAAKc,cAIrB,OAHIF,EAAEpB,GAAS,IACbqB,GAAW,kBAENA,GAETE,cAAe,CAAEC,mBAAoB,CAAEC,QAAS,MAChDC,UAAW,SAACC,GAAD,OAAeA,EAAUC,OAGpCC,OAAQ,CACNC,OAAQ,OACRC,QAAS,EACTC,MAAO,SAACZ,GAAD,OACL,0BAAMa,KAAK,QAAQC,SAAU,IAC1Bd,OAMT,OAAO,kBAAC1B,EAAUO,I,u2BC/CpB,IAAMkC,EAAcC,YAAH,KAkBXC,EAAa1C,IAAO2C,IAAV,KAKVC,EAAmB5C,IAAO2C,IAAV,KAKhBE,EAAc7C,IAAO2C,IAAV,KA4CFG,MAvCf,WAAgB,IAAD,EACWC,mBAAS,MADpB,mBACNC,EADM,KACAC,EADA,KAYb,OARAC,qBAAU,WACRzC,OAAO0C,SAAS,CAAEC,IAAK,EAAGC,SAAU,aACnC,IAOD,oCACE,kBAACb,EAAD,MACA,kBAACE,EAAD,KACE,kBAACE,EAAD,KACE,kBAAC,IAAD,CAAWU,YATC,SAAC,GAAc,IAAZnD,EAAW,EAAXA,KACrB8C,EAAQ9C,IAQmCoD,OAAQ,IAC1C,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAGC,KAAI,SAACR,GAAD,OACzB,kBAAC,IAAD,CAAM7C,KAAM6C,EAAMS,IAAKT,GACrB,kBAACH,EAAD,KAAcG,SAKtB,6BACE,kBAAC,EAAD,CACE7C,KAAMuD,EAAOV,GACb5C,MAAO,QACPC,MAAO,WACPE,MAAM,YACNoD,QAAQ,YClEpBC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.a663dd70.chunk.js","sourcesContent":["import React from \"react\";\nimport OrdinalFrame from \"semiotic/lib/OrdinalFrame\";\nimport styled from \"styled-components\";\nimport { scaleSqrt } from \"d3-scale\";\nimport \"./RadialChart.css\";\n\nconst Chart = styled(OrdinalFrame)`\n  position: sticky;\n  top: 0;\n`;\n\nconst RadialChart = ({ data, xAxis, yAxis, title }) => {\n  const frameProps = {\n    /* --- Data --- */\n    data,\n\n    /* --- Size --- */\n    size: [window.innerHeight - 100, window.innerWidth - 100],\n    margin: 100,\n\n    /* --- Layout --- */\n    type: \"bar\",\n    projection: \"radial\",\n\n    /* --- Process --- */\n    oAccessor: xAxis,\n    rAccessor: yAxis,\n    rScaleType: scaleSqrt(),\n    oSort: (a, b, aData, bData) => bData[0][yAxis] - aData[0][yAxis],\n\n    /* --- Customize --- */\n    pieceClass: (d) => {\n      let myClass = d.type.toLowerCase();\n      if (d[yAxis] < 3) {\n        myClass += \" insignificant\";\n      }\n      return myClass;\n    },\n    baseMarkProps: { transitionDuration: { default: 2000 } },\n    renderKey: (datapoint) => datapoint.spell,\n\n    /* --- Annotate --- */\n    oLabel: {\n      orient: \"stem\",\n      padding: 5,\n      label: (d) => (\n        <text fill=\"white\" fontSize={12}>\n          {d}\n        </text>\n      ),\n    },\n  };\n\n  return <Chart {...frameProps} />;\n};\n\nexport default RadialChart;\n","import React, { useState, useEffect } from \"react\";\nimport { Scrollama, Step } from \"react-scrollama\";\nimport styled, { createGlobalStyle } from \"styled-components\";\nimport RadialChart from \"./data-viz/RadialChart.jsx\";\nimport spells from \"./data/spell_counts.json\";\n\nconst GlobalStyle = createGlobalStyle`\n  body {\n    background: #302f2c;\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n      sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    color: white;\n  }\n\n  code {\n    font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n      monospace;\n  }\n`;\n\nconst AppWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n\nconst ScrollamaWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst StepWrapper = styled.div`\n  margin: 50vh 0;\n  font-size: 50px;\n`;\n\nfunction App() {\n  const [book, setBook] = useState(null);\n\n  // Scroll to the top on render *smoooooothly*\n  useEffect(() => {\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\n  }, []);\n\n  const onStepEnter = ({ data }) => {\n    setBook(data);\n  };\n\n  return (\n    <>\n      <GlobalStyle />\n      <AppWrapper>\n        <ScrollamaWrapper>\n          <Scrollama onStepEnter={onStepEnter} offset={0.5}>\n            {[1, 2, 3, 4, 5, 6, 7].map((book) => (\n              <Step data={book} key={book}>\n                <StepWrapper>{book}</StepWrapper>\n              </Step>\n            ))}\n          </Scrollama>\n        </ScrollamaWrapper>\n        <div>\n          <RadialChart\n            data={spells[book]}\n            xAxis={\"spell\"}\n            yAxis={\"mentions\"}\n            title=\"Spell Use\"\n            stickTo=\"top\"\n          />\n        </div>\n      </AppWrapper>\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}