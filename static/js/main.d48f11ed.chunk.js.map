{"version":3,"sources":["data-viz/RadialChart.jsx","data/bookTitles.js","App.js","index.js"],"names":["Chart","styled","OrdinalFrame","props","sticky","Tooltip","div","RadialChart","data","xAxis","yAxis","width","height","title","frameProps","size","margin","type","projection","fill","oAccessor","rAccessor","rScaleType","scaleSqrt","oSort","a","b","aData","bData","pieceClass","d","myClass","toLowerCase","baseMarkProps","transitionDuration","default","renderKey","datapoint","spell","hoverAnnotation","tooltipContent","summary","bookTitles","1","2","3","4","5","6","7","GlobalStyle","createGlobalStyle","BookProgression","Multiples","ScrollamaWrapper","StepWrapper","App","useState","book","setBook","useEffect","window","scrollTo","top","behavior","onStepEnter","offset","map","key","spells","innerWidth","innerHeight","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2pBAMA,IAAMA,EAAQC,YAAOC,IAAPD,CAAH,KACG,SAACE,GAAD,OAAYA,EAAMC,OAAS,SAAW,QAC3C,SAACD,GAAD,OAAYA,EAAMC,OAAS,EAAI,QAGlCC,EAAUJ,IAAOK,IAAV,KAkEEC,EAtDK,SAAC,GAA0D,IAAxDC,EAAuD,EAAvDA,KAAMC,EAAiD,EAAjDA,MAAOC,EAA0C,EAA1CA,MAAOC,EAAmC,EAAnCA,MAAOC,EAA4B,EAA5BA,OAAQC,EAAoB,EAApBA,MAAOT,EAAa,EAAbA,OACzDU,EAAa,CAEjBN,OAGAO,KAAM,CAACJ,EAAOC,GACdI,OAAQ,IAGRC,KAAM,MACNC,WAAY,SACZL,MAAO,0BAAMM,KAAK,SAASN,GAG3BO,UAAWX,EACXY,UAAWX,EACXY,WAAYC,sBACZC,MAAO,SAACC,EAAGC,EAAGC,EAAOC,GAAd,OAAwBA,EAAM,GAAGlB,GAASiB,EAAM,GAAGjB,IAG1DmB,WAAY,SAACC,GACX,IAAIC,EAAUD,EAAEb,KAAKe,cAIrB,OAHIF,EAAEpB,GAAS,IACbqB,GAAW,kBAENA,GAETE,cAAe,CAAEC,mBAAoB,CAAEC,QAAS,MAChDC,UAAW,SAACC,GAAD,OAAeA,EAAUC,OAGpCC,iBAAiB,EACjBC,eAAgB,SAACV,GAAD,OACd,kBAACzB,EAAD,KACGyB,EAAEW,QAAQ,GAAGjC,KAAKC,GADrB,MACgCqB,EAAEW,QAAQ,GAAGjC,KAAKE,MAgBtD,OAAO,kBAACV,EAAD,iBAAWc,EAAX,CAAuBV,OAAQA,M,QChEzBsC,EAVI,CACjBC,EAAG,qDACHC,EAAG,uDACHC,EAAG,kDACHC,EAAG,mDACHC,EAAG,yDACHC,EAAG,sDACHC,EAAG,+C,28BCAL,IAAMC,EAAcC,YAAH,KAkBXC,EAAkBnD,IAAOK,IAAV,KAKf+C,EAAYpD,IAAOK,IAAV,KAKTgD,EAAmBrD,IAAOK,IAAV,KAKhBiD,EAActD,IAAOK,IAAV,KA4DFkD,MAvDf,WAAgB,IAAD,EACWC,mBAAS,MADpB,mBACNC,EADM,KACAC,EADA,KAYb,OARAC,qBAAU,WACRC,OAAOC,SAAS,CAAEC,IAAK,EAAGC,SAAU,aACnC,IAOD,oCACE,kBAACd,EAAD,MACA,kBAACE,EAAD,KACE,kBAACE,EAAD,KACE,kBAAC,IAAD,CAAWW,YATC,SAAC,GAAc,IAAZzD,EAAW,EAAXA,KACrBmD,EAAQnD,IAQmC0D,OAAQ,IAC1C,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAGC,KAAI,SAACT,GAAD,OACzB,kBAAC,IAAD,CAAMlD,KAAMkD,EAAMU,IAAKV,GACrB,kBAACH,EAAD,KAAcG,SAKtB,6BACE,kBAAC,EAAD,CACElD,KAAM6D,EAAOX,GACbjD,MAAO,QACPC,MAAO,WACPC,MAAOkD,OAAOS,WAAa,IAC3B1D,OAAQiD,OAAOU,YAAc,IAC7BnE,QAAQ,MAKd,kBAACiD,EAAD,KACG,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAGc,KAAI,SAACT,GAAD,OACzB,kBAAC,EAAD,CACEU,IAAKV,EACLlD,KAAM6D,EAAOX,GACbjD,MAAO,QACPC,MAAO,WACPC,MAAO,IACPC,OAAQ,IACRC,MAAO6B,EAAWgB,GAClBtD,QAAQ,UCxFpBoE,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,U","file":"static/js/main.d48f11ed.chunk.js","sourcesContent":["import React from \"react\";\nimport OrdinalFrame from \"semiotic/lib/OrdinalFrame\";\nimport styled from \"styled-components\";\nimport { scaleSqrt } from \"d3-scale\";\nimport \"./RadialChart.css\";\n\nconst Chart = styled(OrdinalFrame)`\n  position: ${(props) => (props.sticky ? \"sticky\" : null)};\n  top: ${(props) => (props.sticky ? 0 : null)};\n`;\n\nconst Tooltip = styled.div`\n  display: flex;\n  background-color: white;\n  color: black;\n  border-radius: 10px;\n  height: 80px;\n  width: 180px;\n  justify-content: center;\n  align-items: center;\n  padding: 5px;\n`;\n\nconst RadialChart = ({ data, xAxis, yAxis, width, height, title, sticky }) => {\n  const frameProps = {\n    /* --- Data --- */\n    data,\n\n    /* --- Size --- */\n    size: [width, height],\n    margin: 100,\n\n    /* --- Layout --- */\n    type: \"bar\",\n    projection: \"radial\",\n    title: <text fill=\"white\">{title}</text>,\n\n    /* --- Process --- */\n    oAccessor: xAxis,\n    rAccessor: yAxis,\n    rScaleType: scaleSqrt(),\n    oSort: (a, b, aData, bData) => bData[0][yAxis] - aData[0][yAxis],\n\n    /* --- Customize --- */\n    pieceClass: (d) => {\n      let myClass = d.type.toLowerCase();\n      if (d[yAxis] < 3) {\n        myClass += \" insignificant\";\n      }\n      return myClass;\n    },\n    baseMarkProps: { transitionDuration: { default: 2000 } },\n    renderKey: (datapoint) => datapoint.spell,\n\n    /* --- Interact --- */\n    hoverAnnotation: true,\n    tooltipContent: (d) => (\n      <Tooltip>\n        {d.summary[0].data[xAxis]} : {d.summary[0].data[yAxis]}\n      </Tooltip>\n    ),\n\n    /* --- Annotate --- */\n    // oLabel: {\n    //   orient: \"stem\",\n    //   padding: 5,\n    //   label: (d) => (\n    //     <text fill=\"white\" fontSize={12}>\n    //       {d}\n    //     </text>\n    //   ),\n    // },\n  };\n\n  return <Chart {...frameProps} sticky={sticky} />;\n};\n\nexport default RadialChart;\n","const bookTitles = {\n  1: \"Harry Potter and the Sorcerer's Stone ⚡️\",\n  2: \"Harry Potter and the Chamber of Secrets 🐍\",\n  3: \"Harry Potter and the Prisoner of Azkaban ⏳\",\n  4: \"Harry Potter and the Goblet of Fire 🏆\",\n  5: \"Harry Potter and the Order of the Phoenix 🔥\",\n  6: \"Harry Potter and the Half-Blood Prince 🧪\",\n  7: \"Harry Potter and the Deathly Hallows ⍋\",\n};\n\nexport default bookTitles;\n","import React, { useState, useEffect } from \"react\";\nimport { Scrollama, Step } from \"react-scrollama\";\nimport styled, { createGlobalStyle } from \"styled-components\";\nimport RadialChart from \"./data-viz/RadialChart.jsx\";\nimport spells from \"./data/spellCounts.json\";\nimport bookTitles from \"./data/bookTitles.js\";\n\nconst GlobalStyle = createGlobalStyle`\n  body {\n    background: #302f2c;\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n      sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    color: white;\n  }\n\n  code {\n    font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n      monospace;\n  }\n`;\n\nconst BookProgression = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n\nconst Multiples = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nconst ScrollamaWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst StepWrapper = styled.div`\n  margin: 50vh 0;\n  font-size: 50px;\n`;\n\nfunction App() {\n  const [book, setBook] = useState(null);\n\n  // Scroll to the top on render *smoooooothly*\n  useEffect(() => {\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\n  }, []);\n\n  const onStepEnter = ({ data }) => {\n    setBook(data);\n  };\n\n  return (\n    <>\n      <GlobalStyle />\n      <BookProgression>\n        <ScrollamaWrapper>\n          <Scrollama onStepEnter={onStepEnter} offset={0.5}>\n            {[1, 2, 3, 4, 5, 6, 7].map((book) => (\n              <Step data={book} key={book}>\n                <StepWrapper>{book}</StepWrapper>\n              </Step>\n            ))}\n          </Scrollama>\n        </ScrollamaWrapper>\n        <div>\n          <RadialChart\n            data={spells[book]}\n            xAxis={\"spell\"}\n            yAxis={\"mentions\"}\n            width={window.innerWidth - 100}\n            height={window.innerHeight - 100}\n            sticky={true}\n          />\n        </div>\n      </BookProgression>\n\n      <Multiples>\n        {[1, 2, 3, 4, 5, 6, 7].map((book) => (\n          <RadialChart\n            key={book}\n            data={spells[book]}\n            xAxis={\"spell\"}\n            yAxis={\"mentions\"}\n            width={500}\n            height={500}\n            title={bookTitles[book]}\n            sticky={false}\n          />\n        ))}\n      </Multiples>\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}