{"version":3,"sources":["styles.js","data/bookTitles.js","data-viz/MovingPiece.jsx","data-viz/StaticPiece.jsx","data-viz/utils.js","data-viz/LegendRow.jsx","data-viz/Legend.jsx","hooks/useChartDimensions.js","data-viz/CustomRadialChart.jsx","article-sections/bookThoughts.js","article-sections/BookProgression.jsx","article-sections/SmallMultiples.jsx","article-sections/Header.jsx","fonts/fonts.js","App.js","index.js","fonts/HarryP-Title.ttf","fonts/publico/PublicoText-Roman-Web.woff2","fonts/national/National2Web-Regular.woff","fonts/national/National2Web-Regular.woff2","fonts/national/National2Web-Bold.woff","fonts/national/National2Web-Bold.woff2"],"names":["GlobalStyle","createGlobalStyle","spellColors","charm","spell","jinx","hex","curse","unforgivable","bookTitles","1","2","3","4","5","6","7","FilledPiece","styled","g","props","insignificant","spellType","Title","p","Effect","Mention","BlackH3","h3","BookTitle","h1","ItalicizedEffect","MovingPiece","data","book","pathA","pathB","mentions","highlighted","useState","clickedSpell","setClickedSpell","animations","useSpring","config","duration","d","opacity","from","tooltipTitle","tooltipContent","effect","drawerHeader","type","arrowPointAtCenter","title","content","mouseEnterDelay","mouseLeaveDelay","toLowerCase","onClick","path","stroke","strokeWidth","width","placement","visible","closable","onClose","bodyStyle","background","display","flexDirection","headerStyle","borderBottom","_","map","mention","i","key","StaticPiece","mostMentions","topMentionsPerBook","bookData","get","maxBy","max","getPath","maxLength","orderBy","spells","numBars","length","findIndex","scale","scaleSqrt","domain","range","pieceData","find","arc","startAngle","Math","PI","endAngle","innerRadius","outerRadius","arcGenerator","ColoredCircle","animated","circle","$spellType","LegendRow","dms","spellTypes","percentage","margin","marginBottom","circleX","circleY","percentAnimation","number","textAnimation","y","circleAnimation","cy","legendR","text","x","fill","interpolate","val","floor","r","cx","Legend","totalMentions","sumBy","numberAnimation","total","mentionsByType","forEach","rankedSpellTypes","transform","marginLeft","height","marginTop","join","parseInt","toFixed","combineChartDimensions","dimensions","parsedDimensions","marginRight","boundedHeight","boundedWidth","useChartDimensions","passedSettings","ref","useRef","setWidth","setHeight","useEffect","element","current","resizeObserver","ResizeObserver","entries","Array","isArray","entry","contentRect","observe","unobserve","newSettings","ChartWrapper","div","fullScreen","Bounds","CustomRadialChart","fullData","currentBook","previousBook","highlightedSections","smallMultiple","selectedSpell","visibleSpells","previousSpells","min","includes","getNullPath","HighlightedSpell","strong","writtenThoughts","Wrapper","ScrollamaWrapper","StepWrapper","$triggered","Loading","BookProgression","spellMentions","setCurrentBook","setPreviousBook","isEmpty","onStepEnter","direction","offset","WrappingRows","Mentions","Text","SpellContainer","Spell","a","selected","SectionContainer","SmallMultiples","setSelectedSpell","lookupMentions","spellsForEachBook","allSpells","union","uniqueSpells","uniqBy","s","sortBy","substring","getListOfUniqueSpells","href","e","preventDefault","DownArrow","ArrowheadDownOutline","Introduction","Header","currentStep","setCurrentStep","set","style","HarryPotterTitleFont","Publico","NationalWebWoff","NationalWebWoff2","NationalWebBoldWoff","NationalWebBoldWoff2","AppWrapper","App","window","scrollTo","top","behavior","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.1c9ebe20.chunk.js","sourcesContent":["import styled, { createGlobalStyle } from \"styled-components\";\n\nexport const GlobalStyle = createGlobalStyle`\n  h1 {\n    font-family: \"Harry Potter Title\";\n    font-size: 4em;\n    color: white;\n  }\n\n  h2 {\n    color: white;\n  }\n\n  h3 {\n    color: white;\n  }\n\n  body {\n    background: #302f2c;\n    margin: 0;\n    font-family: 'National 2 Web', 'Helvetica Neue', sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    color: white;\n  }\n\n  strong {\n    font-family: 'National 2 Web Bold';\n  }\n\n  code {\n    font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n      monospace;\n  }\n`;\n\nexport const spellColors = {\n  charm: \"#edf067\",\n  spell: \"#4f80b0\",\n  jinx: \"#1b3480\",\n  hex: \"#801d80\",\n  curse: \"#442f57\",\n  unforgivable: \"#171617\",\n};\n","const bookTitles = {\n  1: \"Sorcerer's Stone ⚡️\",\n  2: \"Chamber of Secrets 🐍\",\n  3: \"Prisoner of Azkaban ⏳\",\n  4: \"Goblet of Fire 🏆\",\n  5: \"Order of the Phoenix 🔥\",\n  6: \"Half-Blood Prince 🧪\",\n  7: \"Deathly Hallows ⚔️\",\n};\n\nexport default bookTitles;\n","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { animated, useSpring } from \"react-spring\";\nimport _ from \"lodash\";\nimport { Popover, Drawer } from \"antd\";\nimport { spellColors } from \"../styles.js\";\nimport bookTitles from \"../data/bookTitles.js\";\n\nconst FilledPiece = styled.g`\n  opacity: ${(props) => (props.insignificant ? 0.4 : 1)};\n  fill: ${(props) => spellColors[props.spellType]};\n`;\n\nconst Title = styled.p`\n  color: #302f2c;\n  font-color: white;\n`;\n\nconst Effect = styled.p`\n  color: #302f2c;\n`;\n\nconst Mention = styled.p`\n  color: black;\n`;\n\nconst BlackH3 = styled.h3`\n  color: black;\n  margin-top: 30px;\n`;\n\nconst BookTitle = styled.h1`\n  color: black;\n  text-align: center;\n  font-size: 2em;\n`;\n\nconst ItalicizedEffect = styled.p`\n  font-style: italic;\n`;\n\nconst MovingPiece = ({ data, book, pathA, pathB, mentions, highlighted }) => {\n  const [clickedSpell, setClickedSpell] = useState(null);\n\n  const insignificant = data.mentions < 3;\n\n  const animations = useSpring({\n    config: { duration: 1500 },\n    d: pathB,\n    opacity: insignificant ? 0.4 : 1,\n    from: { d: pathA, opacity: 0 },\n  });\n\n  const tooltipTitle = (\n    <Title>\n      {data.spell} : {data.mentions}\n    </Title>\n  );\n\n  const tooltipContent = (\n    <div>\n      <Effect>{data.effect}</Effect>\n    </div>\n  );\n\n  const onClose = () => {\n    setClickedSpell(null);\n  };\n\n  const drawerHeader = (\n    <div>\n      <BookTitle>Harry Potter and the {bookTitles[book]}</BookTitle>\n      <BlackH3>\n        {clickedSpell ? `${clickedSpell.spell} (${clickedSpell.type})` : \"\"}\n      </BlackH3>\n      <ItalicizedEffect>\n        {clickedSpell ? clickedSpell.effect : null}\n      </ItalicizedEffect>\n    </div>\n  );\n\n  return (\n    <>\n      <Popover\n        arrowPointAtCenter={true}\n        title={tooltipTitle}\n        content={tooltipContent}\n        mouseEnterDelay={0}\n        mouseLeaveDelay={0}\n      >\n        <FilledPiece\n          spellType={data.type.toLowerCase()}\n          insignificant={insignificant}\n          onClick={() => setClickedSpell(data)}\n        >\n          <animated.path\n            {...animations}\n            stroke={highlighted ? \"white\" : null}\n            strokeWidth={highlighted ? 2.5 : null}\n          />\n        </FilledPiece>\n      </Popover>\n      <Drawer\n        title={drawerHeader}\n        width={\"60vw\"}\n        placement=\"right\"\n        visible={clickedSpell}\n        closable={false}\n        onClose={onClose}\n        bodyStyle={{\n          background: \"#D6CCA9\",\n          display: \"flex\",\n          flexDirection: \"column\",\n        }}\n        headerStyle={{ background: \"#D6CCA9\", borderBottom: \"none\" }}\n      >\n        {_.map(mentions, (mention, i) => (\n          <Mention key={i}>\"... {mention} ...\"</Mention>\n        ))}\n      </Drawer>\n    </>\n  );\n};\n\nexport default MovingPiece;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport _ from \"lodash\";\nimport { spellColors } from \"../styles.js\";\n\nconst FilledPiece = styled.g`\n  opacity: ${(props) => (props.highlighted ? 1 : 0.1)};\n  fill: ${(props) => spellColors[props.spellType]};\n`;\n\nconst StaticPiece = ({ data, path, highlighted }) => {\n  return (\n    <FilledPiece spellType={data.type.toLowerCase()} highlighted={highlighted}>\n      <path d={path} />\n    </FilledPiece>\n  );\n};\n\nexport default StaticPiece;\n","import _ from \"lodash\";\nimport spells from \"../data/spellCounts.json\";\nimport { arc } from \"d3-shape\";\nimport { scaleSqrt } from \"d3-scale\";\n\nexport const legendR = 10;\n\nconst mostMentions = (data) => {\n  const topMentionsPerBook = _.map(data, (bookData) =>\n    _.get(\n      _.maxBy(bookData, (d) => d.mentions),\n      \"mentions\"\n    )\n  );\n  return _.max(topMentionsPerBook);\n};\n\nexport const getPath = (book, spell, maxLength) => {\n  const bookData = _.orderBy(spells[book], [\"mentions\"], [\"desc\"]);\n  const numBars = bookData.length;\n  const i = _.findIndex(bookData, { spell });\n\n  if (i === -1) return null;\n  const scale = scaleSqrt()\n    .domain([0, mostMentions(spells)])\n    .range([0, maxLength / 2]);\n\n  const pieceData = _.find(bookData, { spell });\n\n  const arcGenerator = arc()\n    .startAngle(((Math.PI * 2) / numBars) * i)\n    .endAngle(((Math.PI * 2) / numBars) * (i + 1))\n    .innerRadius(0)\n    .outerRadius(scale(pieceData.mentions));\n\n  return arcGenerator();\n};\n\nexport const getNullPath = (book, spell) => {\n  const bookData = _.orderBy(spells[book], [\"mentions\"], [\"desc\"]);\n  const numBars = bookData.length;\n  const i = _.findIndex(bookData, { spell });\n\n  if (i === -1) return null;\n\n  const arcGenerator = arc()\n    .startAngle(((Math.PI * 2) / numBars) * i)\n    .endAngle(((Math.PI * 2) / numBars) * (i + 1))\n    .innerRadius(0)\n    .outerRadius(5);\n\n  return arcGenerator();\n};\n","import React from \"react\";\nimport { legendR } from \"./utils.js\";\nimport { animated, useSpring } from \"react-spring\";\nimport styled from \"styled-components\";\nimport { spellColors } from \"../styles.js\";\n\nconst ColoredCircle = styled(animated.circle)`\n  fill: ${(props) => spellColors[props.$spellType]};\n`;\n\nconst LegendRow = ({ dms, i, spellType, spellTypes, percentage }) => {\n  const margin =\n    (dms.marginBottom - spellTypes.length * legendR * 2) /\n    (spellTypes.length + 1);\n\n  const circleX = dms.width * 0.5;\n  const circleY =\n    i === 0\n      ? margin + legendR\n      : (margin + 2 * legendR) * i + (margin + legendR);\n\n  const percentAnimation = useSpring({\n    number: percentage,\n  });\n  const textAnimation = useSpring({\n    y: circleY,\n  });\n  const circleAnimation = useSpring({\n    cy: circleY - legendR / 2,\n  });\n\n  return (\n    <>\n      <animated.text\n        key={`${spellType}-percentage`}\n        x={circleX - (legendR + 50)}\n        y={textAnimation.y}\n        fill=\"white\"\n      >\n        {percentAnimation.number.interpolate((val) => Math.floor(val))}\n      </animated.text>\n      <animated.text\n        key={`${spellType}-percent`}\n        x={circleX - (legendR + 30)}\n        y={textAnimation.y}\n        fill=\"white\"\n      >\n        %\n      </animated.text>\n      <ColoredCircle\n        key={`${spellType}-circle`}\n        $spellType={spellType}\n        r={legendR}\n        cx={circleX}\n        cy={circleAnimation.cy}\n      />\n      <animated.text\n        key={`${spellType}-label`}\n        x={circleX + legendR + 20}\n        y={textAnimation.y}\n        fill=\"white\"\n      >\n        {spellType}\n      </animated.text>\n    </>\n  );\n};\n\nexport default LegendRow;\n","import React from \"react\";\nimport _ from \"lodash\";\nimport { animated, useSpring } from \"react-spring\";\nimport LegendRow from \"./LegendRow.jsx\";\n\nconst Legend = ({ dms, data }) => {\n  const totalMentions = _.sumBy(data, \"mentions\");\n  const numberAnimation = useSpring({\n    total: totalMentions,\n  });\n\n  let mentionsByType = {};\n\n  const spellTypes = [\"charm\", \"spell\", \"jinx\", \"hex\", \"curse\", \"unforgivable\"];\n  spellTypes.forEach((spellType) => {\n    const mentions = _.sumBy(data, (d) => {\n      if (d.type.toLowerCase() === spellType) {\n        return d.mentions;\n      }\n      return 0;\n    });\n    mentionsByType[spellType] = mentions;\n  });\n\n  const rankedSpellTypes = _.orderBy(\n    spellTypes,\n    (type) => mentionsByType[type],\n    [\"desc\"]\n  );\n\n  return (\n    <g\n      transform={`translate(${[\n        dms.marginLeft,\n        dms.height + dms.marginTop - dms.marginBottom,\n      ].join(\",\")})`}\n    >\n      <text x={dms.width * 0.5 - 60} y={-20} fill=\"white\">\n        Total spell mentions =\n      </text>\n      <animated.text x={dms.width * 0.5 + 107} y={-20} fill=\"white\">\n        {numberAnimation.total.interpolate((val) => Math.floor(val))}\n      </animated.text>\n      {rankedSpellTypes.map((spellType, i) => (\n        <LegendRow\n          key={spellType}\n          dms={dms}\n          i={i}\n          spellType={spellType}\n          spellTypes={spellTypes}\n          percentage={parseInt(\n            ((mentionsByType[spellType] / totalMentions) * 100).toFixed()\n          )}\n        />\n      ))}\n    </g>\n  );\n};\n\nexport default Legend;\n","import { ResizeObserver } from \"@juggle/resize-observer\";\nimport { useRef, useState, useEffect } from \"react\";\n\nconst combineChartDimensions = (dimensions) => {\n  const parsedDimensions = {\n    ...dimensions,\n    marginTop: dimensions.marginTop || 0,\n    marginRight: dimensions.marginRight || 0,\n    marginBottom: dimensions.marginBottom || 0,\n    marginLeft: dimensions.marginLeft || 0,\n  };\n  return {\n    ...parsedDimensions,\n    boundedHeight: Math.max(\n      parsedDimensions.height -\n        parsedDimensions.marginTop -\n        parsedDimensions.marginBottom,\n      0\n    ),\n    boundedWidth: Math.max(\n      parsedDimensions.width -\n        parsedDimensions.marginLeft -\n        parsedDimensions.marginRight,\n      0\n    ),\n  };\n};\n\nconst useChartDimensions = (passedSettings) => {\n  const ref = useRef();\n  const dimensions = combineChartDimensions(passedSettings);\n  const [width, setWidth] = useState(0);\n  const [height, setHeight] = useState(0);\n\n  useEffect(() => {\n    //if (dimensions.width && dimensions.height) return [ref, dimensions];\n    const element = ref.current;\n    const resizeObserver = new ResizeObserver((entries) => {\n      if (!Array.isArray(entries)) return;\n      if (!entries.length) return;\n      const entry = entries[0];\n      if (width != entry.contentRect.width) setWidth(entry.contentRect.width);\n      if (height != entry.contentRect.height)\n        setHeight(entry.contentRect.height);\n    });\n    resizeObserver.observe(element);\n    return () => resizeObserver.unobserve(element);\n  }, []);\n\n  const newSettings = combineChartDimensions({\n    ...dimensions,\n    width: dimensions.width || width,\n    height: dimensions.height || height,\n  });\n  return [ref, newSettings];\n};\n\nexport default useChartDimensions;\n","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport _ from \"lodash\";\nimport MovingPiece from \"./MovingPiece.jsx\";\nimport StaticPiece from \"./StaticPiece.jsx\";\nimport Legend from \"./Legend.jsx\";\nimport { getPath, getNullPath } from \"./utils.js\";\nimport useChartDimensions from \"../hooks/useChartDimensions.js\";\n\nconst ChartWrapper = styled.div`\n  height: ${(props) => (props.fullScreen ? \"85vh\" : \"25vh\")};\n  margin-right: 20px;\n  width: 90%;\n`;\n\nconst Bounds = styled.g`\n  transform: ${(props) =>\n    `translate(${props.boundedWidth / 2}px, ${props.boundedHeight / 2}px)`};\n`;\n\nconst CustomRadialChart = ({\n  fullData,\n  mentions,\n  currentBook,\n  previousBook,\n  highlightedSections,\n  smallMultiple = false,\n  selectedSpell = null,\n}) => {\n  const visibleSpells = _.map(_.get(fullData, currentBook), (d) => d.spell);\n  let previousSpells = [];\n  if (!smallMultiple) {\n    previousSpells = _.map(_.get(fullData, previousBook), (d) => d.spell);\n  }\n\n  let chartSettings = {};\n  if (smallMultiple) {\n    chartSettings = { marginTop: 10 };\n  } else {\n    chartSettings = { marginBottom: 200 };\n  }\n  const [ref, dms] = useChartDimensions(chartSettings);\n\n  return (\n    <ChartWrapper ref={ref} fullScreen={!smallMultiple}>\n      <svg height={dms.height} width={dms.width}>\n        <g\n          transform={`translate(${[dms.marginLeft, dms.marginTop].join(\",\")})`}\n        >\n          <Bounds\n            boundedWidth={dms.boundedWidth}\n            boundedHeight={dms.boundedHeight}\n          >\n            {_.map(fullData[currentBook], (d) => {\n              if (smallMultiple) {\n                return (\n                  <StaticPiece\n                    key={`${d.spell}${d.book}`}\n                    data={d}\n                    path={getPath(\n                      currentBook,\n                      d.spell,\n                      _.min([dms.boundedWidth, dms.boundedHeight])\n                    )}\n                    highlighted={selectedSpell === d.spell}\n                  />\n                );\n              }\n              const entering =\n                visibleSpells.includes(d.spell) &&\n                !previousSpells.includes(d.spell);\n\n              let pathA = null;\n              if (entering) {\n                // Animate in from center\n                pathA = getNullPath(currentBook, d.spell);\n              } else {\n                // Animate from previous position\n                pathA = getPath(\n                  previousBook,\n                  d.spell,\n                  _.min([dms.boundedWidth, dms.boundedHeight])\n                );\n              }\n              const pathB = getPath(\n                currentBook,\n                d.spell,\n                _.min([dms.boundedWidth, dms.boundedHeight])\n              );\n\n              return dms.height !== 0 && dms.width !== 0 ? (\n                <MovingPiece\n                  key={`${d.spell}${d.book}`}\n                  data={d}\n                  book={currentBook}\n                  pathA={pathA}\n                  pathB={pathB}\n                  mentions={mentions ? mentions[currentBook][d.spell] : null}\n                  highlighted={\n                    highlightedSections\n                      ? highlightedSections.includes(d.spell)\n                      : false\n                  }\n                />\n              ) : null;\n            })}\n          </Bounds>\n        </g>\n        {!smallMultiple && <Legend dms={dms} data={fullData[currentBook]} />}\n      </svg>\n    </ChartWrapper>\n  );\n};\n\nexport default CustomRadialChart;\n","import React from \"react\";\nimport { spellColors } from \"../styles.js\";\nimport styled from \"styled-components\";\n\nconst HighlightedSpell = styled.strong`\n  background: ${(props) => spellColors[props.spellType]};\n  color: ${(props) => (props.spellType === \"charm\" ? \"black\" : \"white\")};\n`;\n\nexport const highlightedSections = {\n  1: [\"Wingardium Leviosa\"],\n  2: [\"Expelliarmus\"],\n  3: [\"Expecto Patronum\", \"Riddikulus\"],\n  4: [\"Avada Kedavra\", \"Crucio\", \"Imperio\"],\n  5: [\n    \"Expelliarmus\",\n    \"Stupefy\",\n    \"Impedimenta\",\n    \"Petrificus Totalus\",\n    \"Reducto\",\n  ],\n  6: [\"Sectumsempra\", \"Levicorpus\"],\n  7: [\"Avada Kedavra\"],\n};\n\nexport const writtenThoughts = {\n  1: (\n    <>\n      <p>Turns out there's not actually that much magic in Book 1.</p>\n      <p>\n        The most uttered spell is{\" \"}\n        <HighlightedSpell spellType=\"charm\">\n          Wingardium Leviosa\n        </HighlightedSpell>\n        , which Harry, Ron, and Hermione learn in Charms class and later use to\n        defeat a troll.\n      </p>\n      <p>Click a spell to see where it's mentioned!</p>\n    </>\n  ),\n  2: (\n    <>\n      <p>\n        Harry's signature spell,{\" \"}\n        <HighlightedSpell spellType=\"charm\">Expelliarmus</HighlightedSpell>,\n        makes its first appearance in Book 2.\n      </p>\n    </>\n  ),\n  3: (\n    <>\n      <p>\n        It's not surprising to see signature Book 3 spells like{\" \"}\n        <HighlightedSpell spellType=\"charm\">Expecto Patronum</HighlightedSpell>{\" \"}\n        and <HighlightedSpell spellType=\"spell\">Riddikulus</HighlightedSpell> at\n        the top.\n      </p>\n      <p>\n        This is also the only book that is absent of \"dark\" magical spells\n        (jinxes, hexes, or curses).\n      </p>\n    </>\n  ),\n  4: (\n    <>\n      <p>\n        Book 4 is noticably darker than the first 3 books, with 27% dark spells\n        (jinxes, hexes, or curses).\n      </p>\n      <p>\n        This book also has the first spottings of the 3 unforgivable curses,\n        which we learn about in class with \"Professor Moody.\"\n      </p>\n    </>\n  ),\n  5: (\n    <>\n      <p>\n        Book 5 features the first all-out battle of the series (The Battle of\n        the Department of Mysteries, the first major conflict of the Second\n        Wizarding War 🤓).\n      </p>\n      <p>\n        Dumbledore's Army has been studying up on their dueling spells, and it\n        shows.\n      </p>\n    </>\n  ),\n  6: (\n    <>\n      <p>\n        The titular character (The Half-Blood Prince) created two of the most\n        used spells in this book (\n        <HighlightedSpell spellType=\"curse\">Sectumsempra</HighlightedSpell> and{\" \"}\n        <HighlightedSpell spellType=\"jinx\">Levicorpus</HighlightedSpell>).\n      </p>\n      <p>\n        Of the spells mentioned in this book, 30% are considered dark magic, the\n        highest percentage of any book in the series.\n      </p>\n    </>\n  ),\n  7: (\n    <>\n      <p>The final book has the most spell mentions of all the books (190!).</p>\n      <p>\n        <HighlightedSpell spellType=\"unforgivable\">\n          Avada Kedavra\n        </HighlightedSpell>{\" \"}\n        is mentioned 7 times, the most since Book 4.\n      </p>\n    </>\n  ),\n};\n","import React, { useState } from \"react\";\nimport { Scrollama, Step } from \"react-scrollama\";\nimport styled from \"styled-components\";\nimport CustomRadialChart from \"../data-viz/CustomRadialChart.jsx\";\nimport _ from \"lodash\";\nimport { writtenThoughts, highlightedSections } from \"./bookThoughts.js\";\n\nconst Wrapper = styled.div`\n  width: 100%;\n`;\n\nconst ChartWrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  width: 100%;\n  position: sticky;\n  top: 10%;\n`;\n\nconst ScrollamaWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-left: 50px;\n`;\n\nconst StepWrapper = styled.div`\n  margin: 50vh 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 200px;\n  opacity: ${(props) => (props.$triggered ? 1 : 0.4)};\n  &:nth-child(1) {\n    margin-top: -20vh;\n  }\n`;\n\nconst Loading = styled.div`\n  margin-top: 40px;\n`;\n\nconst BookProgression = ({ spells, spellMentions }) => {\n  const [currentBook, setCurrentBook] = useState(1);\n  const [previousBook, setPreviousBook] = useState(0);\n\n  const onStepEnter = ({ data, direction }) => {\n    if (direction === \"up\") setPreviousBook(data + 1);\n    else if (direction === \"down\") setPreviousBook(data - 1);\n    setCurrentBook(data);\n  };\n\n  return !_.isEmpty(spells[currentBook]) ? (\n    <Wrapper>\n      <ChartWrapper>\n        <CustomRadialChart\n          fullData={spells}\n          mentions={spellMentions}\n          currentBook={currentBook}\n          previousBook={previousBook}\n          highlightedSections={_.get(highlightedSections, currentBook)}\n        />\n      </ChartWrapper>\n\n      <ScrollamaWrapper>\n        <Scrollama onStepEnter={onStepEnter} offset={0.6}>\n          {_.range(1, 8).map((book) => (\n            <Step data={book} key={book}>\n              <StepWrapper $triggered={currentBook === book}>\n                <h1>Book {book}</h1>\n                <div>{writtenThoughts[book]}</div>\n              </StepWrapper>\n            </Step>\n          ))}\n        </Scrollama>\n      </ScrollamaWrapper>\n    </Wrapper>\n  ) : (\n    <Loading>Loading...</Loading>\n  );\n};\n\nexport default BookProgression;\n","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport CustomRadialChart from \"../data-viz/CustomRadialChart.jsx\";\nimport bookTitles from \"../data/bookTitles.js\";\nimport { spellColors } from \"../styles.js\";\nimport _ from \"lodash\";\n\nconst WrappingRows = styled.div`\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n`;\n\nconst ChartWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 33.33vw;\n  position: relative;\n`;\n\nconst Mentions = styled.p`\n  position: absolute;\n  top: 12.5vh;\n  right: 16.66vw;\n  font-size: 2.5em;\n`;\n\nconst Text = styled.div`\n  width: 60vw;\n  height: 30vh;\n  overflow: scroll;\n  padding: 10px;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: wrap;\n`;\n\nconst SpellContainer = styled.p`\n  margin-right: 10px;\n`;\n\nconst Spell = styled.a`\n  color: white;\n  opacity: ${(props) => (props.selected ? 1 : 0.4)};\n  background: ${(props) =>\n    props.selected ? spellColors[props.spellType] : null};\n  color: ${(props) =>\n    props.spellType === \"charm\" && props.selected ? \"black\" : \"white\"};\n\n  &:hover {\n    color: ${(props) =>\n      props.spellType === \"charm\" && props.selected ? \"black\" : \"white\"};\n    opacity: 1;\n  }\n`;\n\nconst SectionContainer = styled.div`\n  margin-top: 30vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst getListOfUniqueSpells = (spells) => {\n  const spellsForEachBook = _.map(spells, (bookData) =>\n    _.map(bookData, (d) => ({ spell: d.spell, type: d.type }))\n  );\n  const allSpells = _.union(...spellsForEachBook);\n  const uniqueSpells = _.uniqBy(allSpells, (s) => s.spell);\n\n  return _.sortBy(uniqueSpells, (d) => {\n    if (d.spell.includes(\"(\")) {\n      return d.spell.substring(1, d.spell.length - 1);\n    }\n    return d.spell;\n  });\n};\n\nconst SmallMultiples = ({ spells }) => {\n  const [selectedSpell, setSelectedSpell] = useState(null);\n\n  return (\n    <SectionContainer>\n      <h1>An Owl's-Eye View</h1>\n      <WrappingRows>\n        {_.range(1, 8).map((book) => {\n          const lookupMentions = _.get(\n            _.find(spells[book], (d) => d.spell === selectedSpell),\n            \"mentions\"\n          );\n          const mentions = lookupMentions ? lookupMentions : 0;\n          return (\n            <ChartWrapper key={book}>\n              <h3 key={`title-${book}`}>{bookTitles[book]}</h3>\n              <CustomRadialChart\n                fullData={spells}\n                currentBook={book}\n                smallMultiple={true}\n                selectedSpell={selectedSpell}\n              />\n              <Mentions key={`mentions-${book}`}>\n                <strong>{mentions !== 0 ? mentions : null}</strong>\n              </Mentions>\n            </ChartWrapper>\n          );\n        })}\n        <Text>\n          {_.map(getListOfUniqueSpells(spells), ({ spell, type }) => (\n            <SpellContainer key={spell}>\n              <Spell\n                href=\"#\"\n                onClick={(e) => {\n                  setSelectedSpell(spell);\n                  e.preventDefault();\n                }}\n                selected={spell === selectedSpell}\n                spellType={type.toLowerCase()}\n              >\n                {spell}\n              </Spell>\n            </SpellContainer>\n          ))}\n        </Text>\n      </WrappingRows>\n    </SectionContainer>\n  );\n};\n\nexport default SmallMultiples;\n","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { animated, useSpring } from \"react-spring\";\nimport { Scrollama, Step } from \"react-scrollama\";\nimport { ArrowheadDownOutline } from \"@styled-icons/evaicons-outline/ArrowheadDownOutline\";\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 50px;\n  height: 100vh;\n`;\n\nconst DownArrow = styled(ArrowheadDownOutline)`\n  height: 40px;\n  margin-top: 15px;\n`;\n\nconst Introduction = styled.div`\n  margin-top: 10vh;\n  margin-left: 200px;\n  margin-right: 200px;\n  text-align: center;\n`;\n\nconst Header = () => {\n  const [currentStep, setCurrentStep] = useState(0);\n\n  const [props, set, stop] = useSpring(() => ({ opacity: 1 }));\n\n  const onStepEnter = ({ data }) => {\n    setCurrentStep(data);\n  };\n\n  set({ opacity: currentStep === 4 ? 0 : 1 });\n\n  return (\n    <Wrapper>\n      <Scrollama onStepEnter={onStepEnter} offset={0.2}>\n        <Step data={0} key={0}>\n          <h1>\"It's LeviOsa, not LevioSA!\"</h1>\n        </Step>\n        <Step data={1} key={1}>\n          <h2>\n            Visualizing the spells mentioned across the Harry Potter series\n          </h2>\n        </Step>\n        <Step data={2} key={2}>\n          <h3>By Michelle McGhee</h3>\n        </Step>\n        <Step data={3} key={3}>\n          <Introduction>\n            <p>\n              During quarantine, I've been revisiting a comforting classic, the\n              Harry Potter series. 🤓⚡️📖\n            </p>\n            <p>\n              Which got me thinking: What spells are they doing? And what can\n              that tell us about the nature of each book?\n            </p>\n            <p>Let's find out.</p>\n          </Introduction>\n        </Step>\n        <Step data={4} key={4}>\n          <animated.div\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              marginTop: \"100px\",\n              ...props,\n            }}\n          >\n            <div>Scroll to advance the story</div>\n            <DownArrow />\n          </animated.div>\n        </Step>\n      </Scrollama>\n    </Wrapper>\n  );\n};\n\nexport default Header;\n","import { createGlobalStyle } from \"styled-components\";\nimport HarryPotterTitleFont from \"./HarryP-Title.ttf\";\nimport Publico from \"./publico/PublicoText-Roman-Web.woff2\";\nimport NationalWebWoff from \"./national/National2Web-Regular.woff\";\nimport NationalWebWoff2 from \"./national/National2Web-Regular.woff2\";\nimport NationalWebBoldWoff from \"./national/National2Web-Bold.woff\";\nimport NationalWebBoldWoff2 from \"./national/National2Web-Bold.woff2\";\n\nexport default createGlobalStyle`\n  @font-face {\n    font-family: 'Harry Potter Title';\n    src: url(${HarryPotterTitleFont});\n    font-weight: normal;\n    font-style: normal;\n  }\n\n  @font-face {\n    font-family: 'Publico';\n    src: url(${Publico});\n    font-weight: normal;\n    font-style: normal;\n  }\n\n  @font-face {\n    font-family: 'National 2 Web';\n    src: url(${NationalWebWoff}) format('woff'), url(${NationalWebWoff2}) format('woff2');\n    font-weight: normal;\n    font-style: normal;\n  }\n\n  @font-face {\n    font-family: 'National 2 Web Bold';\n    src: url(${NationalWebBoldWoff}) format('woff'), url(${NationalWebBoldWoff2}) format('woff2');\n    font-weight: normal;\n    font-style: normal;\n  }\n`;\n","import React, { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport BookProgression from \"./article-sections/BookProgression.jsx\";\nimport SmallMultiples from \"./article-sections/SmallMultiples.jsx\";\nimport Header from \"./article-sections/Header.jsx\";\nimport spells from \"./data/spellCounts.json\";\nimport spellMentions from \"./data/spellMentions.json\";\nimport GlobalFonts from \"./fonts/fonts\";\nimport \"./App.css\";\nimport { GlobalStyle } from \"./styles.js\";\n\nconst AppWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nfunction App() {\n  // Scroll to the top on render *smoooooothly*\n  useEffect(() => {\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\n  }, []);\n\n  return (\n    <>\n      <GlobalStyle />\n      <GlobalFonts />\n\n      <AppWrapper>\n        <Header />\n        <BookProgression spells={spells} spellMentions={spellMentions} />\n        <SmallMultiples spells={spells} />\n      </AppWrapper>\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","module.exports = __webpack_public_path__ + \"static/media/HarryP-Title.181ef9a7.ttf\";","module.exports = __webpack_public_path__ + \"static/media/PublicoText-Roman-Web.5f2e0ae8.woff2\";","module.exports = __webpack_public_path__ + \"static/media/National2Web-Regular.dc4310e6.woff\";","module.exports = __webpack_public_path__ + \"static/media/National2Web-Regular.2414fbff.woff2\";","module.exports = __webpack_public_path__ + \"static/media/National2Web-Bold.8de3108e.woff\";","module.exports = __webpack_public_path__ + \"static/media/National2Web-Bold.a83736a1.woff2\";"],"sourceRoot":""}